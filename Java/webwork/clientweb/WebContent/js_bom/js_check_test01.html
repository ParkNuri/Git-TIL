<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script type="text/javascript">
</script>
</head>
	<script type="text/javascript">
		// 모두선택 버튼을 누르면 food라는 name으로 정의된 checkbox 제어
		function allcheck() {
			//food라는 이름으로 정의된 checkbox가 여러개 -> 배열로 관리
			mycheck = document.cbfmt.food;
			alert(mycheck);	//IE: object HTMLCollection = Chrome: object RadioNodeList
			alert(mycheck.length);
			
			allChkVal = cbfmt.allchk.checked;
			
			alert(allChkVal);
			
			mycheck=cbfmt.food;


			for (i = 0; i < mycheck.length; i++) {
				mycheck[i].checked=allChkVal;
			}
			
			
			//alert(mycheck);
			//alert(mycheck.length);
			/* allchk라는 체크박스의 값을 읽어서 food 체크박스의 값을 동일하게 설정 
			allchk가 선택되면->food 체크박스들을 모두선택
			allchk가 선택 해제되면->food 체크박스들을 모두 해제 */
			
			
			//mydiv = document.getElementById("result");	// getter
			//innerHTML은 문자열 컨텐츠를 추가 - 기존의 컨텐츠를 덮는다.
			//p/div/span 에서 사용가능
			document.getElementById("result").innerHTML="<h1>결과</h1>";
			
		}
		/*	1. food체크박스를 변수에 저장하기
			2. for문으로 food체크박스의 값을 하나하나 출력해보기
			3. 선택된 체크박스만 값을 출력하도록 조건제어
			4. 선택된 체크박스의 값을 출력하도록 변수에 저장하기
			4. div에 선택된 체크박스의 값만 출력하기
		*/
		function ckFunc(){
			mycheck = document.cbfmt.food;
			printVal="";
			for (i = 0; i < mycheck.length; i++) {
				if(mycheck[i].checked)
				{
					//alert(mycheck[i].value+":"+mycheck[i].checked);
					printVal = printVal+mycheck[i].value+" ";
				}
			}
			//alert("완료->"+printVal);
			document.getElementById("result").innerHTML=printVal;	//덮어씌우기
		}
		function printText() {
			myval=cbfmt.test.value;
			//alert(myval);
			mydiv=document.getElementById("result").innerHTML="<h1>"+myval+"</h1>"
		
		}
	</script>
<body>

	<form name="cbfmt">
		<label>아이스크림</label> 
		<input type="checkbox" name="food" value="아이스크림" id="ice"> 
		<label>커피</label> 
		<input type="checkbox" name="food" value="커피" id="coffee"> 
		<label>음료수</label> <input type="checkbox" name="food" value="음료수" id="beverage"> 
		<label>모두체크/해제</label>
		<input type="checkbox" name="allchk" id="allchk" onclick="allcheck()"><br>

		<input type="button" value="전송" onclick="ckFunc()">
		<input type="text" name="test" onkeyup="printText()"/>
	</form>
	<div id="result"></div>

</body>
</html>